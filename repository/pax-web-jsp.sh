#!/bin/bash

VERSION="4.1.1"
NAME=pax-web-jsp
cat >${NAME}.bnd  <<STARTBND
Bundle-ManifestVersion                  2                                       
Bundle-Name                             OPS4J Pax Web - Jsp Support             
Bundle-SymbolicName                     org.ops4j.pax.web.pax-web-jsp
Bundle-Vendor                           OPS4J - Open Participation Software for Java
Bundle-Version                          ${VERSION}
Export-Package                          org.ops4j.pax.web.jsp;version="4.1.1",javax.servlet.jsp;version="2.3.1",javax.servlet.jsp.el;version="2.3.1",javax.servlet.jsp.tagext;version="2.3.1",javax.servlet.jsp.jstl.core;version="1.2.1",javax.servlet.jsp.jstl.fmt;version="1.2.1",javax.servlet.jsp.jstl.sql;version="1.2.1",javax.servlet.jsp.jstl.tlv;version="1.2.1",javax.servlet.jsp.resources;version="2.2",javax.el;version="2.2",org.apache.el;version="2.2",org.apache.el.lang;version="2.2",org.apache.el.parser;version="2.2",org.apache.el.stream;version="2.2",org.apache.el.util;version="2.2",org.apache.jasper;version="2.2",org.apache.jasper.compiler;version="2.2",org.apache.jasper.compiler.tagplugin;version="2.2",org.apache.jasper.el;version="2.2",org.apache.jasper.resources;version="2.2",org.apache.jasper.runtime;version="2.2",org.apache.jasper.security;version="2.2",org.apache.jasper.servlet;version="2.2",org.apache.jasper.tagplugins.jstl;version="2.2",org.apache.jasper.xmlparser;version="2.2",org.apache.taglibs.standard;version="1.2",org.apache.taglibs.standard.extra.spath;version="1.2",org.apache.taglibs.standard.functions;version="1.2",org.apache.taglibs.standard.lang.jstl;version="1.2",org.apache.taglibs.standard.lang.jstl.parser;version="1.2",org.apache.taglibs.standard.lang.jstl.test;version="1.2",org.apache.taglibs.standard.lang.jstl.test.beans;version="1.2",org.apache.taglibs.standard.lang.support;version="1.2",org.apache.taglibs.standard.resources;version="1.2",org.apache.taglibs.standard.tag.common.core;version="1.2",org.apache.taglibs.standard.tag.common.fmt;version="1.2",org.apache.taglibs.standard.tag.common.sql;version="1.2",org.apache.taglibs.standard.tag.common.xml;version="1.2",org.apache.taglibs.standard.tag.el.core;version="1.2",org.apache.taglibs.standard.tag.el.fmt;version="1.2",org.apache.taglibs.standard.tag.el.sql;version="1.2",org.apache.taglibs.standard.tag.el.xml;version="1.2",org.apache.taglibs.standard.tag.rt.core;version="1.2",org.apache.taglibs.standard.tag.rt.fmt;version="1.2",org.apache.taglibs.standard.tag.rt.sql;version="1.2",org.apache.taglibs.standard.tag.rt.xml;version="1.2",org.apache.taglibs.standard.tei;version="1.2",org.apache.taglibs.standard.tlv;version="1.2",org.apache.tomcat.util.digester;version="4.1.1",org.apache.tomcat.util.descriptor.tld;version="4.1.1",org.apache.tomcat;version="4.1.1"
Import-Package                          org.ops4j.pax.web.service.spi.util;version="4.1.1",javax.servlet;version="[2.3.0,4.0.0)",javax.servlet.http;version="[2.3.0,4.0.0)",javax.servlet.descriptor;version="[2.3.0,4.0.0)",javax.naming,org.w3c.dom,org.w3c.dom.traversal;resolution:=optional,org.xml.sax,org.xml.sax.ext,org.xml.sax.helpers,org.slf4j;version="[1.5,2.0)",org.apache.tools.ant;resolution:=optional,org.apache.tools.ant.taskdefs;resolution:=optional,org.apache.tools.ant.types;resolution:=optional,org.apache.tools.ant.util;resolution:=optional,org.eclipse.jdt.core.compiler;resolution:=optional,org.eclipse.jdt.internal.compiler;resolution:=optional,org.eclipse.jdt.internal.compiler.classfmt;resolution:=optional,org.eclipse.jdt.internal.compiler.env;resolution:=optional,org.eclipse.jdt.internal.compiler.impl;resolution:=optional,org.eclipse.jdt.internal.compiler.problem;resolution:=optional,org.osgi.framework;version="[1.0.0,2.0.0)",org.ops4j.pax.web.utils;version="[4.1,5)",javax.sql;resolution:=optional,javax.xml.parsers,javax.xml.namespace;resolution:=optional,javax.xml.transform;resolution:=optional,javax.xml.transform.dom;resolution:=optional,javax.xml.transform.sax;resolution:=optional,javax.xml.transform.stream;resolution:=optional,javax.xml.xpath;resolution:=optional,javax.annotation,javax.servlet.jsp;version="2.3.1",org.apache.jasper.compiler.tagplugin;version="2.2",org.apache.jasper.tagplugins.jstl;version="2.2",org.apache.catalina.loader;resolution:=optional,org.apache.taglibs.standard.lang.jstl;version="[1.2,2)",org.apache.taglibs.standard.tag.el.xml;version="[1.2,2)",org.apache.taglibs.standard.tag.common.core;version="[1.2,2)",org.apache.taglibs.standard.tag.common.xml;version="[1.2,2)",org.apache.taglibs.standard.tag.common.fmt;version="[1.2,2)",javax.xml.validation;resolution:=optional,org.apache.taglibs.standard.tag.rt.sql;version="[1.2,2)",org.apache.jasper.xmlparser;version="2.2",org.apache.jasper.el;version="2.2",org.apache.jasper;version="2.2",org.apache.taglibs.standard.tag.el.sql;version="[1.2,2)",org.apache.tomcat.util.scan;resolution:=optional,org.w3c.dom.ls;resolution:=optional,org.ops4j.pax.web.jsp;version="4.1.1",org.apache.jasper.resources;version="2.2",javax.servlet.jsp.jstl.fmt;version="1.2.1",javax.servlet.jsp.el;version="2.3.1",org.apache.juli.logging,org.apache.taglibs.standard.tag.rt.fmt;version="[1.2,2)",javax.servlet.jsp.jstl.core;version="1.2.1",org.apache.taglibs.standard.tag.rt.xml;version="[1.2,2)",javax.servlet.jsp.jstl.sql;version="1.2.1",org.apache.taglibs.standard.lang.support;version="[1.2,2)",org.apache.tomcat.util.digester;resolution:=optional,org.apache.tomcat.util.file;resolution:=optional,javax.servlet.jsp.tagext;version="2.3.1",org.osgi.service.packageadmin;resolution:=optional;version="[1.2,2)",org.apache.tomcat.util.descriptor.tld;resolution:=optional,org.apache.taglibs.standard.tlv;version="[1.2,2)",org.apache.taglibs.standard.tag.el.core;version="[1.2,2)",org.apache.taglibs.standard.tag.rt.core;version="[1.2,2)",org.apache.taglibs.standard;version="[1.2,2)",org.apache.taglibs.standard.resources;version="[1.2,2)",org.osgi.service.http,org.apache.taglibs.standard.extra.spath;version="[1.2,2)",org.apache.taglibs.standard.tag.common.sql;version="[1.2,2)",org.apache.jasper.compiler;version="2.2",org.apache.taglibs.standard.functions;version="[1.2,2)",javax.servlet.jsp.resources;version="2.2",javax.servlet.jsp.jstl.tlv;version="1.2.1",org.apache.jasper.runtime;version="2.2",org.apache.taglibs.standard.tag.el.fmt;version="[1.2,2)",org.apache.taglibs.standard.lang.jstl.parser;version="[1.2,2)",org.apache.taglibs.standard.lang.jstl.test.beans;version="[1.2,2)",org.apache.jasper.servlet;version="2.2",org.apache.tomcat.util.res;resolution:=optional,org.apache.taglibs.standard.lang.jstl.test;version="[1.2,2)",org.apache.jasper.security;version="2.2",org.osgi.util.tracker;version="[1.5,2)",org.apache.tomcat;resolution:=optional,javax.tools,org.apache.taglibs.standard.tei;version="[1.2,2)",org.apache.tomcat.util;resolution:=optional
Manifest-Version                        1.0
Require-Capability                      osgi.ee;filter:="(&(osgi.ee=JavaSE)(version=1.7))"

STARTBND

bnd wrap -output ${NAME}-${VERSION}.bar -properties ${NAME}.bnd ${NAME}-${VERSION}.jar
rm -f ${NAME}.bnd
